(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-904f4a78"],{"0221":function(s,e,o){},1953:function(s,e,o){"use strict";var t=o("0221"),i=o.n(t);i.a},"1c2c":function(s,e,o){"use strict";o.r(e);var t,i=function(){var s=this,e=s.$createElement,o=s._self._c||e;return o("div",{staticClass:"goods"},[o("van-swipe",{staticClass:"goods-swipe",attrs:{autoplay:3e3}},s._l(s.goods.thumb,function(s){return o("van-swipe-item",{key:s},[o("img",{attrs:{src:s}})])}),1),o("van-cell-group",[o("van-cell",{staticClass:"goodMsg"},[o("div",{staticClass:"goods-price"},[s._v("￥"+s._s(s.goods.price))]),o("div",{staticClass:"goods-title"},[s._v(s._s(s.goods.title))])])],1),o("div",{staticClass:"flex-row selectSize",on:{click:s.showSku}},[s._m(0),o("div",{staticClass:"flex-grow-0 flex-y-center"},[o("van-icon",{attrs:{name:"ellipsis",size:"20px"}})],1)]),o("div",{staticClass:"flex-col selectSize"},[o("div",{staticClass:"flex-row"},[o("div",{staticClass:"flex-grow-1 flex-row"},[o("div",{staticClass:"flex-grow-0 selectFont"},[s._v("配送")]),o("div",{staticClass:"flex-grow-1 sizeFont"},[s._v(s._s(s.goods.express))])]),o("div",{staticClass:"flex-grow-0 flex-y-center"},[o("van-icon",{attrs:{name:"ellipsis",size:"20px"}})],1)]),o("div",{staticClass:"flex-row freeShip"})]),o("van-goods-action",[o("van-goods-action-big-btn",{staticClass:"greenBut",on:{click:s.sorry}},[s._v("\n      加入购物车\n    ")]),o("van-goods-action-big-btn",{staticClass:"redBut",attrs:{primary:""},on:{click:s.sorry}},[s._v("\n      立即购买\n    ")])],1),o("van-sku",{attrs:{sku:s.sku.sku,goods:s.sku.goods,"goods-id":s.goods.goodsId,"hide-stock":s.sku.hide_stock,quota:s.sku.quota,"quota-used":s.sku.quotaUsed,"reset-stepper-on-hide":s.sku.resetStepperOnHide,"reset-selected-sku-on-hide":s.sku.resetSelectedSkuOnHide,"close-on-click-overlay":s.sku.closeOnClickOverlay,"disable-stepper-input":s.sku.disableStepperInput},on:{"buy-clicked":s.onBuyClicked,"add-cart":s.onAddCartClicked},model:{value:s.showBase,callback:function(e){s.showBase=e},expression:"showBase"}}),o("div",{domProps:{innerHTML:s._s(s.goods_desc)}})],1)},a=[function(){var s=this,e=s.$createElement,o=s._self._c||e;return o("div",{staticClass:"flex-grow-1 flex-row"},[o("div",{staticClass:"flex-grow-0 selectFont"},[s._v("选择")]),o("div",{staticClass:"flex-grow-1 sizeFont"},[s._v("颜色，尺码")])])}],d=(o("ac6a"),o("ade3")),c=o("2b0e"),n=o("b970"),r=o("7c15");c["a"].use(n["m"]);var l={components:(t={},Object(d["a"])(t,n["s"].name,n["s"]),Object(d["a"])(t,n["g"].name,n["g"]),Object(d["a"])(t,n["k"].name,n["k"]),Object(d["a"])(t,n["c"].name,n["c"]),Object(d["a"])(t,n["d"].name,n["d"]),Object(d["a"])(t,n["p"].name,n["p"]),Object(d["a"])(t,n["q"].name,n["q"]),Object(d["a"])(t,n["h"].name,n["h"]),Object(d["a"])(t,n["i"].name,n["i"]),Object(d["a"])(t,n["j"].name,n["j"]),t),data:function(){return{showBase:!1,goods_desc:"",goods:{goodsId:"",title:"",price:0,express:"",thumb:[]},sku:{sku:{},goods:{},hide_stock:!0,quota:0,quotaUsed:0,resetStepperOnHide:!1,resetSelectedSkuOnHide:!1,closeOnClickOverlay:!0,disableStepperInput:!0},subgoods_list:[]}},created:function(){this.goods.goodsId=this.$route.query.id,this.init()},methods:{init:function(){var s=this;this.axios.get(r["a"].goods+this.goods.goodsId+"/").then(function(e){s.goodsDetail=e,s.subgoods_list=e.subgoods_list,s.goods_desc=e.goods_desc;for(var o=[],t=[],i=[],a=e.subgoods_list[0].sizegoods_list,d=0;d<e.subgoods_list.length;d++){o.push({id:e.subgoods_list[d].color.id,name:e.subgoods_list[d].color.desc,imgUrl:e.subgoods_list[d].image_url});for(var c=0;c<a.length;c++)i.push({id:e.subgoods_list[d].color.id+a[c].size.id,s1:e.subgoods_list[d].color.id,s2:a[c].size.id,price:a[c].price,stock_num:10})}for(var n=0;n<a.length;n++)t.push({id:a[n].size.id,name:a[n].size.desc});var r=[];for(d=0;d<e.images.length;d++)r.push(e.images[d].image_url);s.goods.thumb=r,s.goods.title=e.name,s.goods.price=e.price,s.goods.express=e.ship_desc;var l={tree:[{k:"颜色",v:o,k_s:"s1"},{k:"尺寸",v:t,k_s:"s2"}],list:i,price:e.price,stock_num:227,collection_id:2261,none_sku:!1,hide_stock:!0},u={title:e.name,picture:r[0]};s.sku.sku=l,s.sku.goods=u})},onClickCart:function(){this.$router.push("cart")},showSku:function(){this.showBase=!0},sorry:function(){this.showBase=!0},onBuyClicked:function(s){var e="",o="";this.goodsDetail.subgoods_list.forEach(function(t){t.color.id==s.selectedSkuComb.s1&&(e=t.color.desc,t.sizegoods_list.forEach(function(e){e.size.id==s.selectedSkuComb.s2&&(o=e.size.desc)}))});var t=[{color:s.selectedSkuComb.s1,size:s.selectedSkuComb.s2,nums:s.selectedNum,color_name:e,size_name:o,checked:!0,goods:{name:this.goodsDetail.name,discount_price:this.goodsDetail.price,goods_front_image_url:this.goodsDetail.goods_front_image_url}}];sessionStorage.setItem("submitList",JSON.stringify(t)),this.$router.push({name:"order_plance"})},onAddCartClicked:function(s){var e=this;this.axios.post(r["a"].addshopcarts,{goods:s.goodsId,nums:s.selectedNum,size:s.selectedSkuComb.s2,color:s.selectedSkuComb.s1}).then(function(s){Object(n["t"])("添加购物车成功"),setTimeout(function(){e.$router.push({name:"shop_list"})},1500)})}}},u=l,g=(o("1953"),o("2877")),p=Object(g["a"])(u,i,a,!1,null,"eb356332",null);p.options.__file="goods_detail.vue";e["default"]=p.exports},"7c15":function(s,e,o){"use strict";e["a"]={login:"/login/",bannerList:"/banners/",subbanners:"/subbanners/",indexgoods:"/indexgoods/",schools:"/schools/",goods:"/goods/",addshopcarts:"/shopcarts/",address:"/address/",orders:"/orders/",postfee:"/postfee/",getMessage:"/codes/"}}}]);